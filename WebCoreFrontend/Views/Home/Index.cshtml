@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<style id="loginStyle">
    Body {
        font-family: Calibri, Helvetica, sans-serif;
        background-color: pink;
    }

    button {
        background-color: #4CAF50;
        width: 100%;
        color: orange;
        padding: 15px;
        margin: 10px 0px;
        border: none;
        cursor: pointer;
    }

    form {
        border: 3px solid #f1f1f1;
    }

    input[type=text], input[type=password] {
        width: 100%;
        margin: 8px 0;
        padding: 12px 20px;
        display: inline-block;
        border: 2px solid green;
        box-sizing: border-box;
    }

    button:hover {
        opacity: 0.7;
    }

    .cancelbtn {
        width: auto;
        padding: 10px 18px;
        margin: 10px 5px;
    }


    .container {
        padding: 25px;
        background-color: lightblue;
    }
</style>
<div id="mainDiv">
    <center> <h1> Admin Login </h1> </center>
    <div class="container">
        <label>Username : </label>
        <input id="username" type="text" placeholder="Enter Username" name="username" required>
        <label>Password : </label>
        <input id ="password" type="password" placeholder="Enter Password" name="password" required>
        <button onclick="login()" style="width: 33%;float:left;">Login</button>
        <button onclick="normal()" style="width: 33%;float:right;">Normal User</button>
    </div>
</div>
<script>
    function login() {
        if($("#username").val()=="admin" && $("#password").val()=="adminpass"){
            console.log("login successfully");
            //window.location= "/Centres" 
            
            $("#mainDiv").empty();
            $("#loginStyle").empty();
            //$("#mainDiv").append($("<label>").text('Centres:'))
            loadBookings()
        } else {
            alert("Error: username/password is wrong!");
        }
    }
    function normal() {
        //window.location= "/Bookings/users" 
        $("#mainDiv").empty();
        $("#loginStyle").empty();
        loadUserBooking();
    }
    function loadBookings() {
        $.ajax({
            type: 'get',
            url: '/Bookings',
            contentType: 'application/json',
            processData: false,
            success: function (data, textStatus, jQxhr) {
                //alert("Centres here");
                $("#mainDiv").append(data)
            },
            error: function (xhr, textStatus, error) {
                alert("Error: " + xhr.responseText);
                console.log(xhr.statusText);
                console.log(textStatus);
                console.log(error);
            }
        });
    }
    function loadUserBooking(){
        $.ajax({
            type: 'get',
            url: '/Bookings/users',
            contentType: 'application/json',
            processData: false,
            success: function (data, textStatus, jQxhr) {
                //alert("Centres here");
                $("#mainDiv").append(data)
            },
            error: function (xhr, textStatus, error) {
                alert("Error: " + xhr.responseText);
                console.log(xhr.statusText);
                console.log(textStatus);
                console.log(error);
            }
        });
    }
</script>